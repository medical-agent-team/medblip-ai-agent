# =================================================================
# Langfuse 자체 호스팅 설정 템플릿
# 이 파일을 `.env`로 복사한 후 값을 실제 환경에 맞게 변경하세요
# =================================================================

# ====== Database (PostgreSQL) ======
# [기본값] 유저명 - 그대로 사용 가능
POSTGRES_USER=langfuse

# [필수-변경] 비밀번호 - 반드시 강력한 비밀번호로 변경
# 생성 명령: openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# [기본값] 데이터베이스명 - 그대로 사용 가능
POSTGRES_DB=langfuse

# [기본값] 연결 URL - 위 변수들을 자동으로 사용 (변경 불필요)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}
DIRECT_URL=${DATABASE_URL}

# ====== ClickHouse (분석 데이터베이스) ======
# [기본값] 접속 URL - 그대로 사용 가능
CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_MIGRATION_URL=clickhouse://clickhouse:9000

# [기본값] 유저명 - 그대로 사용 가능
CLICKHOUSE_USER=langfuse

# [필수-변경] 비밀번호 - 반드시 강력한 비밀번호로 변경
# 생성 명령: openssl rand -base64 32
CLICKHOUSE_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# [기본값] 데이터베이스명 - 그대로 사용 가능
CLICKHOUSE_DB=langfuse

# [기본값] 클러스터 모드 - 단일 서버이므로 false 유지
CLICKHOUSE_CLUSTER_ENABLED=false

# ====== Redis (캐시 및 큐) ======
# [필수-변경] 연결 문자열 - 비밀번호 부분을 반드시 변경
# 형식: redis://default:비밀번호@redis:6379
# 생성 명령: openssl rand -base64 32
REDIS_CONNECTION_STRING=redis://default:CHANGE_ME_TO_STRONG_PASSWORD@redis:6379

# [기본값] 클러스터 모드 - 단일 서버이므로 false 유지
REDIS_CLUSTER_ENABLED=false

# ====== Langfuse 앱 설정 ======
# [선택] 접속 URL - localhost는 로컬용, 프로덕션에서는 실제 도메인/IP로 변경
# 예: http://your-domain.com:9019 또는 http://123.45.67.89:9019
NEXTAUTH_URL=http://localhost:9019

# [필수-변경] 세션 암호화 키 - 반드시 랜덤 값으로 변경
# 생성 명령: openssl rand -base64 32
NEXTAUTH_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL

# [필수-변경] 데이터 암호화 키 - 반드시 64자 16진수로 변경
# 생성 명령: openssl rand -hex 32
ENCRYPTION_KEY=CHANGE_ME_TO_64_HEX_CHARACTERS_USE_OPENSSL_RAND_HEX_32

# [필수-변경] 비밀번호 해싱 솔트 - 반드시 랜덤 값으로 변경
# 생성 명령: openssl rand -base64 16
SALT=CHANGE_ME_GENERATE_WITH_OPENSSL

# [기본값] 내부 포트 - 변경 불필요
PORT=3000

# ====== Headless 초기화 (선택 사항) ======
# 아래 값들을 모두 입력하면 첫 실행 시 자동으로 조직/프로젝트/관리자 생성
# 비워두면 웹 UI에서 수동으로 설정 가능

# [선택] 조직 ID - 영문/숫자/하이픈 (예: my-org)
LANGFUSE_INIT_ORG_ID=

# [선택] 조직 이름 (예: My Organization)
LANGFUSE_INIT_ORG_NAME=

# [선택] 프로젝트 ID - 영문/숫자/하이픈 (예: main-project)
LANGFUSE_INIT_PROJECT_ID=

# [선택] 프로젝트 이름 (예: Main Project)
LANGFUSE_INIT_PROJECT_NAME=

# [필수-설정] API 공개 키 - headless init 사용 시 필수
# 형식: lf_pk_로 시작하는 랜덤 문자열 (예: lf_pk_abc123xyz456)
# 이 키를 메인 앱의 .env에 복사해야 함
LANGFUSE_INIT_PROJECT_PUBLIC_KEY=

# [필수-설정] API 비밀 키 - headless init 사용 시 필수
# 형식: lf_sk_로 시작하는 랜덤 문자열 (예: lf_sk_def789uvw012)
# 이 키를 메인 앱의 .env에 복사해야 함
LANGFUSE_INIT_PROJECT_SECRET_KEY=

# [필수-설정] 관리자 이메일 - headless init 사용 시 필수
LANGFUSE_INIT_USER_EMAIL=

# [선택] 관리자 이름
LANGFUSE_INIT_USER_NAME=

# [필수-변경] 관리자 비밀번호 - headless init 사용 시 필수, 반드시 강력한 비밀번호로 설정
LANGFUSE_INIT_USER_PASSWORD=

# =================================================================
# 보안 주의사항
# =================================================================
# 1. 모든 [필수-변경] 항목은 운영 전에 반드시 변경하세요
# 2. 이 .env 파일은 절대 git에 커밋하지 마세요
# 3. 비밀번호는 각 서비스마다 다른 것을 사용하세요
# 4. OpenSSL 명령어로 생성한 값은 매번 다르므로 안전합니다
# 5. PUBLIC_KEY와 SECRET_KEY는 메인 앱 연결 시 필요하므로 잘 보관하세요
# =================================================================
